# Unity 2018.3

https://unity3d.com/unity/whats-new/unity-2018.3.0

## API Changes



*   2D: Added `Experimental.U2D.ISpriteEditor.SetPreviewTexture` to set preview textures for SpriteEditorWindow. Importers that support `ITextureDataProvider` can also implement `Experimental.U2D.ITextureDataProvider._previewTexture` to set preview textures.
    
*   AI: Added new experimental `NavMeshQuery.Raycast()` method, which you can in jobs. It returns the list of visited NavMesh nodes.
    
*   AI: Added `UnityEditor.AI.NavMeshBuilder.CollectSourcesInStage()`, which can handle the main and prefab stages separately.
    
*   Android: Added Android API 28 (Pie) to the Unity scripting reference.
    
*   Android: Removed the public API for setting the JVM Max heap size.
    
*   Animation: Added an additional parameter to `GameObjectRecorder.SaveToClip()` for specifying the FPS of the clip generated by the GameObjectRecorder.
    
*   Animation: Added `Animator.WriteDefaultValues` that lets you force a write of the default values stored in the animator.
    
*   Animation: Added `PPtr` support for `Animator.BindStreamProperty` and `Animator.BindSceneProperty`.
    
*   Animation: Moved GameObjectRecorder out of experimental.
    
*   Animation: Refined the experimental Anim C# Jobs API. Renamed and changed some fields in AnimationStream and AnimationHumanStream. For example, `IsValid()` is now `isValid`, `GetBodyLocalPosition()` is now `bodyLocalPosition`, and `DoF` is now `Dof`.
    
*   Asset Import: Added the `AssetPostprocessor.OnPostprocessMeshHierarchy` callback, which allows you to modify the imported hierarchy before importing the Avatar and animation clips. ([1069175](https://issuetracker.unity3d.com/issues/assetpostprocessor-doesnt-have-a-callback-to-change-the-names-of-the-imported-avatar-bones-and-animation-curves))
    
*   Asset Import: Added `AssetImportContext.DependsOnSourceAsset` to make it possible to report source dependencies during imports, in ScriptedImporters.
    
*   Asset Pipeline: Deprecated the overload of `AssetDatabase.TryGetGUIDAndLocalFileIdentifier` with the parameter `int localID`, because it can return a `localID` that has overflowed (this can happen when called on GameObjects that are part of a Prefab). Instead, use the overload that uses a long data type for the `localID` parameter.
    
*   Compute: Extended `ComputeShader.SetTexture()` and `CommandBuffer.SetComputeTextureParam()` APIs with the `mipLevel` parameter, which allows binding a MIP level of a read-write (unordered access) Texture to a compute shader. The `mipLevel` parameter is ignored unless the shader specifies a read-write (unordered access) texture.
    
*   Editor: Added a `SelectRange` API to the UIElements text field.
    
*   Editor: Added new fields to the ModelImporter Scripting API:
    
    *   `ModelImporter.importBlendShapeNormals`, which is similar to `ModelImporter.importNormals` but for blend shapes.
    *   `ModelImporter.normalSmoothingSource`, which controls whether to use smoothing groups or face angles to determine which edges are smooth when computing normals.
*   Editor: Added new UIElements fields: `BoundsIntField`, `RectIntField`, `Vector2IntField`, `Vector3IntField`, `Toggle` (refactor).
    
*   Editor: Added new UIElements fields: `MaskField`, `LayerField`, `TagField`, `LayerMaskField`, `PopupField` (refactor).
    
*   Editor: Added new `UIElements` fields: `BoundsIntField`, `RectIntField`, `Vector2IntField`, `Vector3IntField`, `Toggle`. For the `Toggle`, the `OnToggle()` callback is now deprecated. User should use `OnValueChanged()`.
    
*   Editor: Added `EditorUtility.CopySerializedManagedFieldsOnly`, which allows you to copy fields between any two managed objects using the Unity serializer.
    
*   Editor: Added `Preset.ApplyTo(Object, string[])` that applies the specified properties and their children to the target Object. If the array is empty it applies all properties.
    
*   Editor: Added `Presets.DataEquals(UnityEngine.Object)` that lets you compare the content of a Preset with the Serialization of any matching Object type, and determine whether applying the Preset would change the target object.
    
*   Editor: Added `SerializedProperty.DataEquals` method that compares the raw data of two `SerializedProperty`.
    
*   Editor: Added `VisualElement.SendEvent` method to allow sending events to VisualElements.
    
*   Editor: Deprecated `PlayerSettings.vulkanUseSWCommandBuffers`. Unity now only uses SW CommandBuffers if GraphicsJobs are enabled and native Vulkan secondary command buffers are slow or have issues on some drivers. Otherwise, Unity now ignores this property.
    
*   Editor: Improved `EditorGUI.EnumPopup` and `EditorGUI.EnumFlagsField`:
    
    *   Enum options now display in the order of declaration instead of the order of value.
    *   Added support for `[DescriptionAttribute]` to change the display name of an enum value.
    *   Added `includeObsolete` parameter to allow showing obsolete enum values in the pop-up drop-down.
    *   Added `checkEnabled` callback to allow disabling/enabling an option in the pop-up.
*   Editor: In `UIElements`, `BaseControl` is now `BaseField`.
    
*   Editor: Made changes to `EditorGUI.EnumPopup`:
    
    *   `EditorGUI.EnumPopup` no longer shows Obsolete values with Error flag when using `includeObsolete = true`.
    *   When you use `EditorGUI.EnumPopup` with `includeObsolete = true` Unity appends `(Obsolete)` to the name on Obsolete enum values.
    *   Added support for `[TooltipAttribute]` to add a tooltip on enum values when using `EditorGUI.EnumPopup`.
*   Editor: Marked the old Prefabs API as obsolete, because it is not compatible with the new Prefabs feature set. It still works for now, but Unity displays warnings if you use it.
    
*   Editor: Text fields in the Editor now use `KeyDown` events that receive a `KeyCode` and `KeyUp` event when the user is entering text. If you have controls that draw after a text field that need to be aware of these events, you should test for them before drawing the text field.
    
*   GI: Added LightProbeGroup.dering to enable/disable remove ringing from Light Probes in the group.
    
*   GI: Added Terrain.deringLightProbesForTrees to enable/disable remove ringing from Light Probes attached to trees on a Terrain.
    
*   Graphics: Added `GateFitMode` enum and `gateFit` properties to the Camera component.
    
*   Graphics: Exposed `Texture.isReadable` property, allowing you to check whether Unity can read Texture data at run time. Imported Textures are not readable by default.
    
*   Graphics: Removed obsolete iOS specific 'isReadable' property and 'MarkNonReadable' method from `WebCamTexture`.
    
*   IMGUI: Added `TreeView.getNewSelectionOverride`. Unity requres this override in order to support selection via clicking/keyboard while building only the visible rows.
    
*   iOS: Added methods to the Xcode API to allow script and copy file build phases to be added at a specific position. Also, exposed way to retrieve all defined build phases and their types.
    
*   iOS: Added support for Telephoto, Dual Back and True Depth cameras on iOS devices (new enum `WebCamKind`, new properties `WebCamDevice.kind`, `WebCamDevice.depthCameraName`, `WebCamTexture.isDepth`).
    
*   iOS: Added `AddShellScriptBuildPhase` public method, plus `InsertShellScriptBuildPhase` and `InsertCopyFileBuildPhase` methods that accept an index parameter to the Xcode API.
    
*   iOS: Added `GetAllBuildPhasesForTarget`, `GetBuildPhaseType` and `GetBuildPhaseName` methods to the Xcode API.
    
*   iOS: Removed iOS as supported platform for `Application.Unload` API.
    
*   Memory Profiler: Added `UnityEditor.Profiling.Memory.Experimental.PackedMemorySnapshot.Convert` to handle conversions from `MemoryProfiler.PackedMemorySnapshot` objects to `UnityEditor.Profiling.Memory.Experimental.PackedMemorySnapshot` files.
    
*   Mobile: Added the `WebCamDevice.availableResolutions` property to support retrieving the available device camera resolutions on Android and iOS.
    
*   Mobile: Added the `WebCamDevice.isAutoFocusPointSupported` and `WebCamTexture.autoFocusPoint` custom focus point properties on both iOS and Android.
    
*   Package Manager: Exposed package keywords in the Package Manager C# API.
    
*   Physics: Added `Collision.contactCount` to retrieve the number of contacts.
    
*   Physics: Added `Collision.GetContact(index)` to retrieve a specific contact.
    
*   Physics: Added `Collision.GetContacts(array)` to retrieve all contacts.
    
*   Physics: Added `Physics.reuseCollisionCallbacks` to control whether Unity re-uses the Collision instance passed to `OnCollisionXXX` calls.
    
*   Physics: Added `Physics2D.reuseCollisionCallbacks` to control whether Unity re-uses the Collision instance passed to `OnCollisionXXX2D` calls.
    
*   Playables: Added `FrameData.effectivePlayState` to pass the accumulated play state of the Playable. (1077846)
    
*   Playables: Added `PlayableDirector.ClearGenericBinding`. Use this method to remove dependencies to unassigned Timeline tracks. ([1058514](https://issuetracker.unity3d.com/issues/timeline-when-deleting-a-track-that-has-a-binding-the-director-will-keep-a-reference-to-the-binding))
    
*   Playables: Creating a Playable using `new` now creates a Null Playable.
    
*   Player: Added `AssetBundle.RecompressAssetBundleAsync` API to re-compress downloaded AssetBundles from one compression methodology to another run-time supported compression methodology. Moved `BuildCompression`, `CompressionLevel` and `CompressionType` out of the `UnityEditor.Experimental.Build.AssetBundle` namespace and into `UnityEngine`.
    
*   Prefabs: Added method `PrefabUtility.HasPrefabInstanceAnyOverrides` to quickly check if there's any override on a Prefab instance.
    
*   Profiler: Added `Dispose` functionality for the `PackedMemorySnapshot` class to prevent instances locking a snapshot file longer than necessary.
    
*   Profiler: Exposed the Editor GUI Unity uses to connect to a player from the Profiler or Console windows. It's placed under `UnityEditor.Experimental.Networking.PlayerConnection`, where `EditorGUIUtility.GetAttachToPlayerState(EditorWindow parentWindow)` gets the connection state with which Unity can draw from using `EditorGUILayout/EditorGUI.AttachToPlayerDropdown`.
    
*   Scripting: Added an optional `exitCode` parameter to `Application.Quit`.
    
*   Scripting: Added the following diagnostic methods in `UnityEngine.Diagnostics.Utils`: `ForceCrash`, `NativeAssert`, `NativerError`, and `NativeWarning`.
    
*   Scripting: Added `UnityEngine.Scripting.GarbageCollector` API for enabling and disabling the garbage collector on **Mono** and **IL2CPP** scripting backends.
    
*   Scripting: Exposed public API for the console log path.
    
*   Shaders: Obsoleted \[ShaderIncludePath\] attribute with warning.
    
*   Terrain: Added the `BuiltinPaintMaterialPasses` enum, which describes the built-in paint material passes, to `TerrainPaintUtility`.
    
*   Terrain: Added `Terrain.preserveTreePrototypeLayers`, which allows you to specify how Unity chooses the layer for Tree instances.
    
*   Timeline: Added the `Timeline.TimelineEditor.Refresh()` method and the `Timeline.RefreshReason` enum for refreshing the Timeline window.
    
*   Timeline: Added `AnimationPlayableAsset.removeStartOffset` to enable relative root offsets.
    
*   Timeline: Added `AudioPlayableAsset.loop` property accessor. (1056481)
    
*   Timeline: Deprecated 'AnimationTrack.applyTrackOffsets' and added 'rootTransformOffsetMode' for specifying the new root offset properties.
    
*   Timeline: Made `TrackAsset.CreatePlayable(PlayableGraph, GameObject, TimelineClip)` virtual to match behaviour from 2018.1. ([1096350](https://issuetracker.unity3d.com/issues/method-trackasset-dot-createplayable-cannot-be-overridden))
    
*   Video: Added to VideoPlayer: `width`, `height`, `length`, `pixelAspectRatioNumerator`, `pixelAspectRatioDenominator`, `GetAudioSampleRate()`. These provide access to the corresponding attributes for URL source in VideoPlayer.
    
*   Video: Added `VideoPlayer.clockTime`, which indicates the time the Video Player follows to schedule its samples.
    
*   Video: Added `VideoPlayer.isPaused`. Indicates whether the Player is in a paused state (rather than stopped or playing).
    
*   XR: Added a method for retrieving the stereo rendering mode currently in use at runtime, via `XRSettings.stereoRenderingMode`.
    
*   XR: Added event `XR.XRDevice.deviceLoaded`. Subscribe a delegate to this event to get notified when an XRDevice is successfully loaded.