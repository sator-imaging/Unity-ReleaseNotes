# Unity 2021.2.17
https://unity3d.com/unity/whats-new/2021.2.17

## 2021.2.17f1 Release Notes


### Improvements
<ul>
<li><p>IL2CPP: Optimized out boxing on null checks on nullable types in generic code.</p></li>
<li><p>Scripting: Editor will display a warning if trying to open a project with an External Code Editor which was removed. (1401221)</p></li>
<li><p>Scripting: Optimized searching for scripts when the assembly name is not supplied, can significantly improve performance entering PlayMode amongst other areas.</p></li>
<li><p>Search: Many UI and UX search improvements</p></li>
</ul>

### Fixes
<ul>
<li><p>Android: Fixed Android il2cpp build when Windows Display Language is set to Turkish. (<a href="https://issuetracker.unity3d.com/issues/android-il2cpp-build-is-looking-for-ihalfl2cpp-folder-instead-of-il2cpp-when-display-language-is-set-to-turkish">1408333</a>)</p></li>
<li><p>Android: Fixed stack overflow crash on start up when trying to get device IP. (1409651)</p></li>
<li><p>Asset Pipeline: Fixed an issue where artifact dependencies might fail to be registered correctly during an import. (<a href="https://issuetracker.unity3d.com/issues/artifact-dependency-to-an-asset-is-not-registered-when-reimporting-specific-assets">1393370</a>)</p></li>
<li><p>Asset Pipeline: Fixed an issue where subsequent builds or manually-selected script only builds could result in incorrect code stripping.</p></li>
<li><p>Build Pipeline: Fixed an issue where building players would fail on windows if Unity is installed on a different drive than the project folder. (<a href="https://issuetracker.unity3d.com/issues/buildfailedexception-is-thrown-when-building-a-new-project">1412356</a>)</p></li>
<li><p>Editor: Fixed a  missing segments issue in the Bundle Identifier for Apple platforms by replacing invalid characters with hyphens (similar to Xcode's behaviour). (<a href="https://issuetracker.unity3d.com/issues/xcode-bundle-identifier-parts-in-xcode-project-missing-if-they-contain-chinese-symbols">1352216</a>)</p></li>
<li><p>Editor: Fixed a missing adb provider for advanced object selector search engine issue. (<a href="https://issuetracker.unity3d.com/issues/quicksearch-default-assets-are-not-appearing-in-the-object-picker-browser">1398289</a>)</p></li>
<li><p>Editor: Fixed a missing search result refresh when executing CTRL+Z to undo last block modifications. (<a href="https://issuetracker.unity3d.com/issues/search-search-list-isnt-updated-when-performing-undo-after-removing-a-query-builders-query-block">1394732</a>)</p></li>
<li><p>Editor: Fixed Player settings becoming invisible after importing new Graphics API on HDRP template. (<a href="https://issuetracker.unity3d.com/issues/player-settings-become-invisible-after-importing-new-graphics-api-on-hdrp-template">1406881</a>)</p></li>
<li><p>Editor: Use SearchViewState.group to initialize initial results tab when a new search window is created. (1400665)</p></li>
<li><p>GI: Fixed an issued caused by out-of-bounds access when light probes had no coefficients. (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-when-adding-another-scene-to-the-hierarchy-window">1394168</a>)</p></li>
<li><p>GI: Small lighting settings UI tweaks.</p></li>
<li><p>Graphics: Fixed a sporadic crashes when using Vulkan. (1407673)</p></li>
<li><p>Graphics: Fixed an issue where crunch compression did not properly handles uncompressed formats (even if not 32-bit RGBA) without flipping color channels or getting data corruption. (1340715)</p></li>
<li><p>Graphics: Fixed an issue where EditorUtility.Compress to crunch fail with a crashing when invalid texture sizes were provided. (1331258)</p></li>
<li><p>Graphics: Fixed buffer overflow in the RenderPassDescription attachments, causing a crash on Linux. (<a href="https://issuetracker.unity3d.com/issues/linux-editor-crashes-on-burst-signal-handler-when-universal-rp-camera-is-selected">1386745</a>)</p></li>
<li><p>Graphics: Fixed issue with resolution change when using renderFrameInterval. (<a href="https://issuetracker.unity3d.com/issues/couldnt-switch-to-requested-monitor-resolution-error-when-changing-resolution-and-using-ondemandrendering-dot-renderframeinterval">1355972</a>)</p></li>
<li><p>Graphics: Fixed splash screen getting rendered at slightly darker color when drawing it from script and the project uses linear color space. (<a href="https://issuetracker.unity3d.com/issues/after-building-the-project-splash-screen-is-darker-when-called-using-code">1369235</a>)</p></li>
<li><p>Graphics: Fixed to reduce CPU load in a sample scene when running with Graphics jobs.</p></li>
<li><p>IL2CPP: Correct the full generic sharing code generation when a generic parameter has a transitive class constraint. (<a href="https://issuetracker.unity3d.com/issues/android-il2cpp-methodaccessexception-attempt-to-access-method-is-thrown-when-using-faster-builds-il2cpp-code-generation">1396719</a>)</p></li>
<li><p>IL2CPP: Fixed an issue where  marshaling of delegates with by reference types was not supported when the return type is blittable. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-android-marshaldirectiveexception-error-when-using-microsoft-onnxruntime-and-building-on-android-with-il2cpp">1399978</a>)</p></li>
<li><p>IL2CPP: Fixed error with builds where C# comments contained multiple slashes/backslashes separated by whitespace. (<a href="https://issuetracker.unity3d.com/issues/il2cpp-buildfailedexception-and-bee-errors-are-thrown-in-the-console-window-when-building-project-for-android">1391435</a>)</p></li>
<li><p>IL2CPP: Fixed il2cpp.exe crashing on machines that used more than 64 threads. (1389102)</p></li>
<li><p>IL2CPP: Fixed issue where the wrong custom attributes would be returned for methods on an array instance. (1403460)</p></li>
<li><p>IMGUI: Fixed memory leak when continuously calling Repaint inside OnGUI after GUI.Window (<a href="https://issuetracker.unity3d.com/issues/guilayout-dot-window-lead-to-memory-leak-on-unity-2020">1371866</a>)</p></li>
<li><p>iOS: Fixed an issue where .meta files was incldued in build for plugins of .plugin type. (<a href="https://issuetracker.unity3d.com/issues/possibly-ios-unity-meta-files-are-generated-in-the-plugin-directory-and-then-copied-to-plugins-directory-in-the-xcode-build">1184957</a>)</p></li>
<li><p>iOS: Fixed Screen.safeArea returns incorrect height value when constraining rotation to landscape. (<a href="https://issuetracker.unity3d.com/issues/ios-screen-dot-safearea-returns-incorrect-height-value-when-constraining-rotation-to-landscape">1356217</a>)</p></li>
<li><p>Linux: Fixed an Editor crash when mappings for specific controllers were not found. (<a href="https://issuetracker.unity3d.com/issues/linux-crash-on-getgamecontrollermapping-when-plugging-in-the-magic-ns-wireless-controller-adapter-in-xinput-mode">1329301</a>)</p></li>
<li><p>macOS: Fixed a rare crash in GameView pointing to BufferMetal::IsBusy. (<a href="https://issuetracker.unity3d.com/issues/editor-crashes-on-buffermetal-isbusy-after-opening-a-scene">1405248</a>)</p></li>
<li><p>macOS: Fixed Silicon Editor showing as iOS app in macOS System Information. (<a href="https://issuetracker.unity3d.com/issues/m1-unity-silicon-editor-appears-as-ios-app-in-macos-system-information">1378530</a>)</p></li>
<li><p>Mono: Fixed an intermittent "Unexpected mark stack overflow" error. (<a href="https://issuetracker.unity3d.com/issues/crash-on-gc-push-all-when-updating-custom-mesh-generation">1391935</a>)</p></li>
<li><p>Mono: Fixed generic default interface method crash with Environment.StackTrace. (<a href="https://issuetracker.unity3d.com/issues/interface-default-implementation-crash-when-passing-class-as-a-generic-parameter">1365974</a>)</p></li>
<li><p>Package Manager: Fixed an issue on Windows where resolving a package could fail if any files were temporarily being used by another process. (1384471)</p></li>
<li><p>Package Manager: Fixed an issue where a package download would fail if the download URL had a default port set (i.e. <code>80</code> for HTTP or <code>443</code> for HTTPS). (1388256)</p></li>
<li><p>Package Manager: Fixed an issue where having package folders without a package manifest in the project's Library folder would fail resolving <code>local-tarball</code> or <code>git</code> packages.</p></li>
<li><p>Package Manager: Fixed an issue where JSON files encoded using UTF-8 with BOM could not be parsed.</p></li>
<li><p>Package Manager: Fixed an issue where package metadata would be fetched even though the locally cached metadata was up-to-date.</p></li>
<li><p>Package Manager: Fixed an issue where the <code>PackageManager.Client.SearchAll()</code> method would fail if the user did not have access permission for one of the packages hosted on the registry. (<a href="https://issuetracker.unity3d.com/issues/package-manager-search-request-fails-when-user-does-not-have-permission-to-access-one-or-more-packages">1381544</a>)</p></li>
<li><p>Package Manager: Fixed an issue where <code>local-tarball</code> dependencies would become unresolved if the source tarball was removed.</p></li>
<li><p>Package Manager: Fixed HTTP 5xx errors that could occur when using a proxy server. (1381238)</p></li>
<li><p>Package Manager: Fixed UnityPackageManager process leaving dangling IPC socket file after it exited.</p></li>
<li><p>Particles: Ensure Trigger Module does not ignore 2D Trigger Colliders. (<a href="https://issuetracker.unity3d.com/issues/particles-are-not-detecting-2d-colliders-when-is-trigger-is-on">1364520</a>)</p></li>
<li><p>Particles: Fixed flickering when using Mesh GPU Instancing. (<a href="https://issuetracker.unity3d.com/issues/particles-are-flickering-when-in-play-mode">1390346</a>)</p></li>
<li><p>Prefabs: Fixed memory gets allocated for GC each frame when using PrefabStageUtility.GetPrefabStage(). (<a href="https://issuetracker.unity3d.com/issues/memory-gets-allocated-for-gc-each-frame-when-using-prefabstageutility-dot-getprefabstage">1343935</a>)</p></li>
<li><p>Profiler: Fixed an issue where Texture2DArrays was not reporting data usage correctly in memory samples. (<a href="https://issuetracker.unity3d.com/issues/profiler-texture-memory-displays-0-dot-00-kb-when-the-texture-is-not-readable-and-when-profiling-some-devices">1354202</a>)</p></li>
<li><p>Scene/Game View: Fixed an input field expanding to fit more digits and creating overflow in the overlay. (<a href="https://issuetracker.unity3d.com/issues/move-value-input-fields-of-the-snap-increment-menu-shift-to-the-side-when-inputing-a-value-of-5-or-more-digits">1361083</a>)</p></li>
<li><p>Search: Fixed a search indexer get document lock issue while incremental updating.</p></li>
<li><p>Search: Fixed an issue where search engines initialization was not delayed until after user code was compiled.</p></li>
<li><p>uGUI: Reentered: is true when quitting a nested UI to go back on a parent UI.<br> FullyExited: is true when quitting a UI for null or for something outside of its children.
(<a href="https://issuetracker.unity3d.com/issues/wrong-onenter-and-onexit-event-calls-when-hovering-over-ui-elements">1394226</a>)</p></li>
<li><p>UI: Fixed an issue which would cause duplicate UI draw calls to show up in the Framedebugger (<a href="https://issuetracker.unity3d.com/issues/frame-debugger-android-there-are-two-draw-mesh-calls-instead-of-one-when-profiling-on-an-android-device">1342417</a>)</p></li>
<li><p>UI Elements: All elements inside a foldout now have a unique name for easier restyling. (1390941)</p></li>
<li><p>Undo System: Fixed an issue where replacing prefabs would cause a crash. (<a href="https://issuetracker.unity3d.com/issues/crash-with-transform-initializetransformhierarchyrecursive-when-using-undo-after-swapping-prefabs">1400170</a>)</p></li>
<li><p>Undo System: Fixed an issue where undoing specific tile map additions was not handled. (<a href="https://issuetracker.unity3d.com/issues/crash-with-rendererupdatemanager-removerenderer-when-using-undo-after-adding-tilemap-to-the-list">1407532</a>)</p></li>
<li><p>Windows: Fixed player window position being offset from the left side of the screen when running in windowed mode at a resolution that doesn't fully fit inside the display. (<a href="https://issuetracker.unity3d.com/issues/windowed-standalone-player-is-offset-from-the-edge-of-the-screen-when-built-for-native-resolution-on-windows">1378303</a>)</p></li>
<li><p>Windows: Fixed Windows Editor crashing on startup on Windows 7 machines that have the latest version of Visual C++ 2013 redistributable installed. (<a href="https://issuetracker.unity3d.com/issues/unity-2021-dot-2-crashes-on-some-windows-machines-when-tbb12-dot-dll-gets-loaded">1361676</a>)</p></li>
</ul>

### Package changes in 2021.2.17f1

### Packages updated
<ul>
<li>com.unity.addressables: <a href="https://docs.unity3d.com/Packages/com.unity.addressables@1.19//changelog/CHANGELOG.html">1.19.18</a> → <a href="https://docs.unity3d.com/Packages/com.unity.addressables@1.19//changelog/CHANGELOG.html">1.19.19</a></li>
</ul>
